<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>
<body>
    
    <script>

        // Variables
        const playerName = prompt("What is your name?");
        let computerScore = 0;
        let playerScore = 0;
        let round = 1;

        let playerSelect;
        let computerSelect;
        let roundMessage;

        //Functions

        function computerSelector() {
            let options = ['rock','paper','scissors'];
            let computerResult = options[Math.floor(Math.random() * options.length)];
            return computerResult;
        }

        function compareResults() {
            computerSelect = computerSelector();
            console.log("You selected " + playerSelect);
            console.log("The computer selected " + computerSelect);
            let resultMessage;
            if(playerSelect === computerSelect) {
                resultMessage = "It's a tie! No points are awarded.";                        
            } else if(playerSelect === "rock") {
                if(computerSelect === "paper") {
                    computerScore++;
                    resultMessage = "Paper beats rock! The computer wins!"
                    }
                else if(computerSelect === "scissors") {
                    playerScore++;
                    resultMessage = "Rock beats scissors! You win!"
                    }
            } else if(playerSelect === "paper") {
                if(computerSelect === "scissors") {
                    computerScore++;
                    resultMessage = "Scissors beat paper! The computer wins!"
                    }
                else if(computerSelect === "rock") {
                    playerScore++;
                    resultMessage = "Paper beats rock! You win!"
                    }
            } else if(playerSelect === "scissors") {
                if(computerSelect === "rock") {
                    computerScore++;
                    resultMessage = "Rock beats scissors! The computer wins!"
                    }
                else if(computerSelect === "paper") {
                    playerScore++;
                    resultMessage = "Scissors beat paper! You win!"
                    }
            }
            return resultMessage
        }

        function score() {

            return `The score is

            Computer: ${computerScore}
            ${playerName}: ${playerScore}`;
        }

        function finalResults() {
            console.log("Game over!")
            if (playerScore < computerScore) {console.log("The computer won the match!")
            } else if(playerScore > computerScore) {console.log("Congratulations! You won the match!")
            } else {console.log("It was a tie!")}
        }

        function letsPlay() {
            round++;
            playerInput = prompt("Select one of the following: Rock, Paper, or Scissors?");
            playerSelect = playerInput.toLowerCase();
            console.log(compareResults());
            console.log(score());
            if(round < 5) {
                roundMessage = `Okay! Let's play again! Time for round ${round}!`;
                console.log(roundMessage);
            } else if(round === 5) {
                roundMessage = "Final round! Let's go!";
                console.log(roundMessage);
            } else {
                return finalResults()
            }
        }
        //Results

        console.log("Left click on page to select an option.")
        addEventListener("click", letsPlay);

    </script>
</body>
</html>